(function(v,U){function r(v,U,F,X){return a(F-0x158,U);}const F=v();function W(v,U,F,X){return a(v- -0x22f,X);}while(!![]){try{const X=parseInt(r(0x247,0x229,0x235,0x21e))/0x1+-parseInt(r(0x227,0x248,0x225,0x22f))/0x2*(-parseInt(r(0x245,0x26f,0x259,0x241))/0x3)+-parseInt(W(-0x15b,-0x15c,-0x16e,-0x13d))/0x4*(parseInt(W(-0x130,-0x15d,-0x121,-0x115))/0x5)+-parseInt(r(0x1f5,0x227,0x215,0x209))/0x6*(parseInt(W(-0x127,-0x11f,-0x13e,-0xfc))/0x7)+parseInt(W(-0x12f,-0x12b,-0x15c,-0x10d))/0x8*(-parseInt(r(0x20a,0x210,0x220,0x214))/0x9)+parseInt(W(-0x13b,-0x14e,-0x11b,-0x13b))/0xa+parseInt(r(0x266,0x259,0x25e,0x23b))/0xb;if(X===U){break;}else{F['push'](F['shift']());}}catch(D){F['push'](F['shift']());}}}(B,0x502b3));const fs=require('fs-extra');const path=require(w(-0x301,-0x30a,-0x30c,-0x325));const sharp=require(w(-0x321,-0x328,-0x33b,-0x32c));function B(){const K=['AM9PBG','4P2micPfCNjVigfVigjHAxHHCIbMAwD1CMLUAgeGBwfYy2fKyseQ','zgzisem','z2H6qvC','BM93','Dg9tDhjPBMC','CMvTB3rLsMLK','svr4CwS','8j+sOsaQrgLJytOQie1HCNf1zsb1BweGzMLNDxjPBMHHiguGDgvUDguGBM92yw1LBNrL','y29TlNDZA2jVDc5ZDgLJA2vYCW','C2vUzenVBxbVC2LUzW','zxHPzG','v1nllujpvcbtDgLJA2vYCW','y29UDgv4DeLUzM8','Dg9cDwzMzxi','y1bft2i','nty1mdm4mJa','tvbmqMq','8j+uJsaQq2f1C2e6kIbgB3jTyxrVigrLihn0AwnRzxiGBSoJBYbZDxbVCNrHzg8k8j+sOsaQu29SDCoNW6nVoIOGtwfYCxvLihvTysbMAwD1CMLUAgeGDSoHBgLKyq','mJmWotiYmfHXzwvzEG','D3jPDgvvsw50teu','AvPsshC','nty1mdm4ntG','v1nllujpva','uM12A1O','4P2mievYCM8GBM8Gy29Tyw5KBYbYzw5HBwu6','y29Uy2f0','ruXXrhe','zxHWB3j0CW','ChvZAe5HBwu','nJvdr0Doveq','mZq0og1fB3PqsG','mJu1mdG3BvjJAKji','CMvHzezPBgu','vLjYrgG','swzit2y','BM9Kzs13zwjWBxv4','nZqZmtK5nKXbAuTpAW','wufrtNC','mZy0odu0n3zRr2T3Ca','zw5ZDxjLrgLY','zxjYB3i','te1ivgu','C2vUze1LC3nHz2u','ANPnwuS','zNjVBq','A2v5','DhjPBq','Efj4Ew8','vhjeCwy','Dw5SAw5R','DKvuEwO','D3jPDgu','zxHPzNrVB2WTDMvUzg9Yzwq','qgL0C3vRAwnOyw4VyMfPBgv5CW','nNnfv0Tnra','BCoTzgLH','C2HHCNa','Agv4','DgvTCa','vhPoCxO','sMTrCxC','BgvUz3rO','Ahr0Chm6lY9WBgf5lMDVB2DSzs5JB20VC3rVCMuVyxbWCY9KzxrHAwXZp2LKpwnVBs53Agf0C2fWCa','BxvPDg8Gz3jHBMrL','v294zw0','mZy4mwr0Ag1cza','Aw5JBhvKzxm','8j+uJsaQq2f1C2e6kIbfCNjVigfVihbYB2nLC3nHCIbZDgLJA2vYcVcFKQeGkLnVBhxdP8oJBZOQifzLCMLMAxf1zsbZzsbTyxjJB3uGDw1HigzPz3vYAw5Oysb2W6fSAwrH','D2vICa','Ahr0Chm6lY9PDhvUzxmUyxbWBguUy29Tl2fWCc93Agf0C2fWCc1TzxnZzw5NzxiVAwqZmta2mZm5otC','mKv4y0zvDq','CxvVDgvKtwvZC2fNzq','BwvZC2fNzq','nde0ztq5ngq','yMPgt1G','C3bSAxq','yNvMzMvY','nJe5ntzVsfb3sK8','EvrSzMG','C3rHBNPHswq','nde0ztrKndy','4P2micPfCNjVigfVihjLBM9TzwfYigeGzMLNDxjPBMHHlIOkcG','Bg9Hza','tKjms08','C3rYAw5NAwz5','D3jPDgvgAwXL','mJm1nJqXCfvKEvLt','DxrMoa','Cgf0Aa','sw1Hz2u'];B=function(){return K;};return B();}const {downloadMediaMessage}=require(w(-0x324,-0x34b,-0x336,-0x2fc));const {exiftool}=require(H(0x33e,0x318,0x32a,0x361));const webp=require(H(0x388,0x3a7,0x3a7,0x3a8));module[w(-0x2e3,-0x2bd,-0x2b9,-0x30d)]=async(v,U,F,{from:X,quoted:D,sender:u,botUtils:p})=>{function G(v,U,F,X){return w(U-0x44a,F,F-0x23,X-0x6);}const t={'ghzAW':G(0x15e,0x16d,0x14d,0x147),'LMHTe':function(E,e){return E===e;},'Woxem':A(-0x9e,-0x4e,-0x57,-0x7c),'cPEOb':A(-0x6e,-0xa0,-0x8c,-0x86)};function A(v,U,F,X){return H(X- -0x403,U-0x1dd,F-0xad,v);}try{if(U[G(0x184,0x179,0x189,0x188)]?.[A(-0x74,-0x85,-0xbf,-0x99)]){await v[G(0x183,0x176,0x195,0x15c)](U['key'][G(0x127,0x151,0x13b,0x146)],{'react':{'text':'ðŸ·ï¸','key':U[G(0x18d,0x179,0x1a1,0x16a)]}});}if(p){if('rMEnT'!==t[G(0x141,0x14e,0x129,0x175)]){await p[A(-0xb8,-0xae,-0xab,-0x95)](X,0x5dc);}else{return U;}}const E=U[G(0x148,0x139,0x14a,0x146)]?.['extendedTextMessage']?.[A(-0x92,-0x8d,-0xa5,-0x92)];if(!E||!E[G(0x164,0x138,0x118,0x122)]||!E[G(0x10f,0x138,0x136,0x135)]['stickerMessage']){return await v['sendMessage'](X,{'text':'âŒ\x20*Marque\x20uma\x20figurinha\x20para\x20renomear.*\x0a\x0aðŸ’¡\x20Use:\x20`/rename\x20PackName/Author`\x20ou\x20`/rename\x20PackName`'},{'quoted':U});}const {packName:e,authorName:Y}=parseRenameArgs(F,U,u);const k=await downloadMediaMessage({'key':E[G(0x131,0x140,0x140,0x133)]?{...U,'key':E}:U,'message':E[A(-0xac,-0x94,-0xa3,-0xb2)]},G(0x114,0x13d,0x164,0x133),{});if(!k||t[G(0x19c,0x175,0x189,0x15a)](k[A(-0x98,-0xa1,-0xa6,-0xbc)],0x0)){return await v['sendMessage'](X,{'text':G(0x144,0x14c,0x15a,0x13c)},{'quoted':U});}const g=await isAnimatedSticker(k);const f=await renameStickerMetadata(k,e,Y,g);await v[A(-0x9c,-0x79,-0x5a,-0x74)](X,{'sticker':f},{'quoted':U});if(U[A(-0x68,-0x57,-0x51,-0x71)]?.[G(0x159,0x151,0x157,0x125)]){if(t[G(0x112,0x131,0x151,0x13f)]!==t[G(0x10c,0x131,0x10e,0x126)]){const S=X[G(0x147,0x14b,0x154,0x13f)]('\x20')['trim']();let n='';let h='';if(!S){const M=p['pushName']||t[A(-0x9f,-0xc6,-0xa5,-0xae)]('@')[0x0];n=M;h='';}else if(S['includes']('/')){const [y,...Q]=S['split']('/');n=y[A(-0x5f,-0x4d,-0x54,-0x70)]();h=Q['join']('/')['trim']();}else{n=S;h='';}return{'packName':n,'authorName':h};}else{await v[A(-0x68,-0x6a,-0x8a,-0x74)](U[A(-0x8b,-0x80,-0x84,-0x71)][G(0x136,0x151,0x16b,0x15c)],{'react':{'text':'âœ…','key':U[G(0x172,0x179,0x14c,0x195)]}});}}}catch(S){console[G(0x178,0x174,0x173,0x153)](t[G(0x156,0x15a,0x14c,0x188)],S['message']);await handleRenameError(S,v,X,U);}};function H(v,U,F,X){return a(v-0x283,X);}function a(v,U){const F=B();a=function(X,D){X=X-0xb6;let u=F[X];if(a['pcHxga']===undefined){var p=function(Y){const g='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let f='';let J='';for(let V=0x0,S,n,h=0x0;n=Y['charAt'](h++);~n&&(S=V%0x4?S*0x40+n:n,V++%0x4)?f+=String['fromCharCode'](0xff&S>>(-0x2*V&0x6)):0x0){n=g['indexOf'](n);}for(let M=0x0,y=f['length'];M<y;M++){J+='%'+('00'+f['charCodeAt'](M)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(J);};a['OkVtmq']=p;v=arguments;a['pcHxga']=!![];}const t=F[0x0];const E=X+t;const e=v[E];if(!e){u=a['OkVtmq'](u);v[E]=u;}else{u=e;}return u;};return a(v,U);}function parseRenameArgs(v,U,F){function j(v,U,F,X){return H(X- -0xe2,U-0x81,F-0x11a,v);}function m(v,U,F,X){return w(X-0x326,F,F-0xe6,X-0xfe);}const X=v[j(0x278,0x2a9,0x29e,0x282)]('\x20')[m(0x57,0x77,0x53,0x56)]();let D='';let u='';if(!X){const p=U[j(0x275,0x27c,0x2a6,0x29f)]||F['split']('@')[0x0];D=p;u='';}else if(X[j(0x25f,0x262,0x259,0x26a)]('/')){const [t,...E]=X[j(0x26b,0x266,0x265,0x273)]('/');D=t[m(0x3a,0x33,0x33,0x56)]();u=E[j(0x29c,0x260,0x28f,0x282)]('/')[m(0x3c,0x55,0x6c,0x56)]();}else{D=X;u='';}return{'packName':D,'authorName':u};}function w(v,U,F,X){return a(v- -0x3e0,U);}async function isAnimatedSticker(v){function d(v,U,F,X){return w(U-0x23b,F,F-0xe6,X-0x1b9);}function R(v,U,F,X){return w(X-0x10e,F,F-0x17b,X-0xde);}const U={'MPLBd':'414e4d46'};try{const F=v['toString'](d(-0x10e,-0xe5,-0xf3,-0x108));return F[R(-0x222,-0x1ee,-0x1dd,-0x209)](R(-0x1da,-0x1ec,-0x201,-0x202))||F[d(-0xc2,-0xdc,-0xb0,-0xc3)](U[R(-0x1fb,-0x1dc,-0x1b6,-0x1e0)]);}catch(X){return![];}}async function renameStickerMetadata(v,U,F,X){try{return await addMetadataWithWebpmux(v,U,F);}catch(D){try{return await addMetadataManually(v,U,F);}catch(u){return v;}}}async function createStickerWithMetadata(v,U,F){function I(v,U,F,X){return w(v-0x59b,X,F-0x196,X-0x75);}function q(v,U,F,X){return H(X- -0x5cf,U-0x1ca,F-0xdd,U);}const X={'bqfQh':I(0x27b,0x273,0x29a,0x261),'jzMYK':function(D,u){return D||u;},'jZgfH':I(0x280,0x291,0x260,0x27f),'YAQNw':'WSK-BOT','NBLKO':function(D,u,p,t){return D(u,p,t);},'vETyj':I(0x2b1,0x2b7,0x2a4,0x2b0),'TrDqf':I(0x290,0x26b,0x281,0x27d),'mmrGR':'âŒ\x20TODOS\x20OS\x20MÃ‰TODOS\x20FALHARAM:'};try{try{const D=path[q(-0x26c,-0x23f,-0x278,-0x26b)](__dirname,q(-0x29b,-0x26a,-0x28b,-0x28b));await fs[q(-0x224,-0x224,-0x218,-0x243)](D);const u=path[I(0x29c,0x2c3,0x2ad,0x289)](D,'rename_'+Date[I(0x2a0,0x276,0x2a2,0x279)]()+'.webp');await fs[q(-0x293,-0x253,-0x276,-0x270)](u,v);const p={'sticker-pack-id':I(0x2a5,0x2a8,0x2b4,0x2ca),'sticker-pack-name':X[I(0x2c8,0x2e0,0x2de,0x2c6)](U,q(-0x260,-0x273,-0x26c,-0x254)),'sticker-pack-publisher':F,'android-app-store-link':X['jZgfH'],'ios-app-store-link':I(0x287,0x26e,0x29c,0x275)};await exiftool[q(-0x2b9,-0x2a9,-0x2a0,-0x292)](u,{'EXIF:ImageDescription':JSON[I(0x296,0x28c,0x2a7,0x2ab)](p),'EXIF:Software':X[I(0x2c2,0x29b,0x2e7,0x2be)],'EXIF:Artist':F,'EXIF:Copyright':U||q(-0x26a,-0x23f,-0x23f,-0x25f),'XMP:Subject':JSON[q(-0x292,-0x257,-0x294,-0x271)](p)});const t=await fs[q(-0x26b,-0x238,-0x274,-0x24a)](u);await fs[q(-0x277,-0x298,-0x268,-0x294)](u);return t;}catch(E){try{return await addMetadataWithWebpmux(v,U,F);}catch(e){return await X[I(0x295,0x296,0x28a,0x270)](addMetadataManually,v,U,F);}}}catch(Y){if(X[q(-0x2aa,-0x2ba,-0x2bc,-0x293)]===X[I(0x272,0x275,0x282,0x26b)]){try{const g=F[q(-0x23c,-0x257,-0x239,-0x266)](X['bqfQh']);return g[I(0x284,0x25d,0x265,0x258)](q(-0x253,-0x255,-0x2a3,-0x27c))||g[q(-0x2a1,-0x256,-0x288,-0x283)](I(0x292,0x2ad,0x2b5,0x2bd));}catch(f){return![];}}else{console[I(0x2c5,0x2c4,0x2cb,0x2e9)](X['mmrGR'],Y[q(-0x264,-0x2a6,-0x259,-0x27d)]);return v;}}}async function addMetadataWithWebpmux(v,U,F){function N(v,U,F,X){return w(U-0x2e5,v,F-0xc4,X-0x40);}function L(v,U,F,X){return w(U-0x190,X,F-0x1d0,X-0x188);}const X={'bjFOX':L(-0x16d,-0x184,-0x171,-0x1a1),'JkQqw':L(-0x176,-0x190,-0x18b,-0x1b6),'nemzO':function(D,u){return D===u;}};try{const D={'sticker-pack-id':N(-0x3a,-0x11,0x12,-0xc),'sticker-pack-name':U||N(0x1e,-0x3,-0x7,-0x2d),'sticker-pack-publisher':F,'android-app-store-link':N(-0x33,-0x36,-0x51,-0x2b),'ios-app-store-link':X[L(-0x154,-0x17f,-0x1ab,-0x1a2)]};const u=JSON[N(0xa,-0x20,-0x26,0xc)](D);const p=Buffer[N(0x13,0x13,0x3b,-0x4)](u,N(-0x1a,-0x1d,-0x25,-0x2d));let t=Buffer[L(-0x15d,-0x142,-0x134,-0x160)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]);let E=Buffer[N(0x6,0x0,0x4,-0x28)]([t,p]);E[N(-0x20,-0x6,0x28,0x18)](p[N(-0x3f,-0x37,-0x24,-0x39)],0xe,0x4);const e=new webp[(N(0x1,-0x1b,-0x11,-0x44))]();await e[N(-0x31,-0x22,-0x33,-0x4)](v);const Y=v[N(-0x3e,-0x15,-0x37,-0x33)](X['JkQqw'],0xc,0x10);if(Y===N(0x5,-0x4,0x1d,-0x21)){}else if(X['nemzO'](Y,L(-0x14a,-0x15f,-0x185,-0x13c))){}e[L(-0x177,-0x164,-0x174,-0x15b)]=E;const k=await e['save'](null);const g=k[L(-0x184,-0x16a,-0x142,-0x17f)](X[L(-0x15f,-0x18d,-0x164,-0x1a4)],0xc,0x10);return k;}catch(f){throw f;}}async function addMetadataManually(v,U,F){function c(v,U,F,X){return w(U-0x220,X,F-0x149,X-0x22);}const X={'yQGqM':'com.wskbot.stickers','dfHHC':c(-0xe8,-0xc8,-0xaa,-0xa8),'xRxyo':function(D,u){return D||u;}};function b(v,U,F,X){return H(X- -0x54a,U-0x17a,F-0x8c,F);}try{const D={'sticker-pack-id':X['yQGqM'],'sticker-pack-name':U||c(-0xa3,-0xc8,-0xec,-0xdf),'sticker-pack-publisher':F,'android-app-store-link':c(-0xdd,-0xfb,-0x102,-0xf3),'ios-app-store-link':'https://itunes.apple.com/app/whatsapp-messenger/id310633997'};const u=JSON[b(-0x209,-0x1e9,-0x215,-0x1ec)](D);const p=await sharp(v)['withExif']({'IFD0':{'Software':X[b(-0x207,-0x1e6,-0x1e7,-0x1e4)],'Artist':F,'Copyright':X[c(-0x107,-0x10a,-0x117,-0x11d)](U,c(-0xcd,-0xd3,-0xbd,-0xe4)),'ImageDescription':u}})[b(-0x1ff,-0x1dd,-0x217,-0x1fc)]({'quality':0x5a})[b(-0x203,-0x1f8,-0x1cd,-0x1d8)]();return p;}catch(t){return v;}}async function handleRenameError(v,U,F,X){function s(v,U,F,X){return w(F-0x2cf,v,F-0x4f,X-0x185);}const D={'TzNqz':z(0x4d6,0x4e3,0x4db,0x503),'ELqDq':s(-0x50,-0x2c,-0x28,-0x19)};function z(v,U,F,X){return w(F-0x7c8,v,F-0xc1,X-0xbe);}let u=z(0x4d3,0x4af,0x4c0,0x4bc);if(v[z(0x49d,0x48c,0x4b7,0x4db)][s(-0x41,-0x6b,-0x48,-0x45)]('Falha\x20no\x20processamento')){if(z(0x4cc,0x4d9,0x4e1,0x4e8)===z(0x4ca,0x4a8,0x4d0,0x4ed)){return![];}else{u+=D[s(-0x30,-0x27,-0x4f,-0x62)];}}else if(v[z(0x4e5,0x4be,0x4b7,0x4b1)][s(-0x48,-0x4a,-0x48,-0x27)](z(0x489,0x4aa,0x4ae,0x4a2))){u+='ðŸ”\x20*Causa:*\x20Sticker\x20muito\x20grande\x0aðŸ’¡\x20*SoluÃ§Ã£o:*\x20Use\x20uma\x20figurinha\x20menor';}else if(v[z(0x4b0,0x4cf,0x4b7,0x49d)][z(0x488,0x4d5,0x4b1,0x4c1)](z(0x47e,0x4bb,0x4a6,0x4bb))){u+=s(-0x37,-0x5a,-0x47,-0x2f);}else{u+=D[s(-0xb,-0x24,-0x15,-0x28)];}await U[s(-0x1b,-0x12,-0x5,0x19)](F,{'text':u},{'quoted':X});if(X[z(0x4d0,0x501,0x4f7,0x4dd)]?.['remoteJid']){await U[s(-0x2f,0x26,-0x5,-0xd)](X[s(0x10,0x1b,-0x2,0x10)][z(0x4be,0x4ab,0x4cf,0x4fc)],{'react':{'text':'âŒ','key':X[s(-0x27,-0x9,-0x2,0xb)]}});}}