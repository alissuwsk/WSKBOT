(function(x,v){const T=x();function j(x,v,T,K){return H(T-0x1e9,v);}function m(x,v,T,K){return H(v-0x34c,x);}while(!![]){try{const K=-parseInt(m(0x45f,0x456,0x451,0x447))/0x1+parseInt(j(0x2e2,0x2e9,0x2da,0x2da))/0x2+parseInt(m(0x46f,0x460,0x474,0x46e))/0x3+-parseInt(j(0x2f1,0x2f8,0x2e7,0x2f4))/0x4+-parseInt(m(0x439,0x440,0x449,0x455))/0x5+parseInt(j(0x2e0,0x2e2,0x2e4,0x2f0))/0x6+parseInt(j(0x2eb,0x2f0,0x2f6,0x30b))/0x7;if(K===v){break;}else{T['push'](T['shift']());}}catch(s){T['push'](T['shift']());}}}(u,0xaf531));function W(x,v,T,K){return H(T- -0x2f2,x);}function H(x,v){const T=u();H=function(K,s){K=K-0xee;let k=T[K];if(H['nYxjFS']===undefined){var r=function(M){const w='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let y='';let n='';for(let O=0x0,B,d,Y=0x0;d=M['charAt'](Y++);~d&&(B=O%0x4?B*0x40+d:d,O++%0x4)?y+=String['fromCharCode'](0xff&B>>(-0x2*O&0x6)):0x0){d=w['indexOf'](d);}for(let m=0x0,j=y['length'];m<j;m++){n+='%'+('00'+y['charCodeAt'](m)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(n);};H['abSZbr']=r;x=arguments;H['nYxjFS']=!![];}const R=T[0x0];const p=K+R;const e=x[p];if(!e){k=H['abSZbr'](k);x[p]=k;}else{k=e;}return k;};return H(x,v);}function u(){const A=['wxbWBeC','yxHPB3m','zxHPC3rZu3LUyW','8j+uHcbcywL4yw5KBYbVihBdRwrLBYbKBYblD2fP','C2vUzenVBxbVC2LUzW','vNzetvG','CwXrwKS','ntuZnJmZthbZtvjg','DMLKzw8VBxa0','Dw5SAw5Ru3LUyW','odC0mtG4me9SD2LXEq','A3DHAq','vvjmigrLigrVD25SB2fKig7dO28Gzw5JB250CMfKysbUysbYzxnWB3n0ysbKysbbueK','vg55zwm','CMvZB2X2zq','AgrPExC','A3DHAv92AwrLBW','mJCZnJeZofnYv3HvwG','zNjVBq','zgf0yq','4PYfifBdRwrLBYbLBNzPywrVignVBsbZDwnLC3nViq','C2vUze1LC3nHz2u','C3vJy2vZCW','zxHWB3j0CW','BKfdwKi','ntq4mtmWwLDwq2fY','whHerMu','DgHZr0i','ndu1nZe0nvLYCM9kDG','EerNwfy','Cgf0Aa','tYb2W61Kzw8GBSoJBYbMB2KGyMfPEgfKBY4','rw52AwuGBYbSAw5RigrVieT3ywKGyxddS3mGBYbJB21HBMrVlG','yxjYyxLIDwzMzxi','zxjYB3i','mZu3ndyXnhLQCM5ACW','4P2mievYCM8Gyw8GyMfPEgfYig91igvUDMLHCIbVihBdRwrLBYbKBYblD2fPlG','A2v5','mZm5mdeXnLnXA3LKBW','rKjkr1O','Bxa0','DxjS','svHnDMO'];u=function(){return A;};return u();}const axios=require(U(-0x122,-0x12e,-0x12d,-0x10d));const fs=require('fs');const path=require(U(-0x130,-0x12b,-0x13f,-0x135));const {exec}=require('child_process');const apiClient=require('../../../utils/cases');function generateUniquePath(x,v){const T=Date['now']();return path['resolve'](__dirname,x+'_'+T+'.'+v);}function U(x,v,T,K){return H(x- -0x226,T);}module[U(-0x137,-0x140,-0x142,-0x128)]=async function kwai(x,v,T,{from:K,quoted:s,botUtils:k}){const r={'nACZB':c(-0x202,-0x1f4,-0x20d,-0x213),'GBOJU':function(n,O){return n===O;},'thsGB':c(-0x207,-0x1fa,-0x215,-0x205),'hdiyw':c(-0x20a,-0x1fe,-0x1f9,-0x208),'xDgXV':'Erro\x20ao\x20baixar\x20vídeo','XxDFe':'URL\x20de\x20download\x20não\x20encontrada\x20na\x20resposta\x20da\x20API','qlQZK':c(-0x211,-0x208,-0x208,-0x206),'IXMvj':function(y,n){return y(n);}};const R=T[0x0];if(!R||!R['includes'](Z(0xc6,0xc7,0xd4,0xd4))){if(r[c(-0x217,-0x210,-0x218,-0x218)]==='YpplG'){if(k)await k[Z(0xd7,0xc7,0xcd,0xbb)](K,0x3e8);await x['sendMessage'](K,{'text':Z(0xbe,0xd1,0xbe,0xcb)},{'quoted':v});return;}else{try{if(p['existsSync'](e))M[Z(0xce,0xc9,0xd2,0xc6)](w);}catch(n){}}}const p=generateUniquePath(Z(0xce,0xca,0xd9,0xdb),r[c(-0x1f8,-0x1f2,-0x205,-0x1ed)]);if(k)await k['sendComposing'](K,0x7d0);function c(x,v,T,K){return U(x- -0xe4,v-0x17,K,K-0x1f4);}let e=await x[c(-0x1f2,-0x207,-0x1e6,-0x1fd)](K,{'text':c(-0x204,-0x1f6,-0x1fb,-0x1f9)},{'quoted':v});function Z(x,v,T,K){return U(T-0x1ec,v-0xf3,K,K-0x100);}const M=async n=>{function P(x,v,T,K){return Z(x-0x1e,v-0x1b9,K-0x8f,v);}function h(x,v,T,K){return Z(x-0xbd,v-0x1b9,K- -0x1ed,v);}if(e&&e[P(0x163,0x168,0x154,0x152)]){try{if(r[h(-0x13c,-0x148,-0x131,-0x137)]===r[P(0x155,0x13b,0x152,0x145)]){await x[P(0x180,0x158,0x15b,0x16d)](K,{'text':n,'edit':e[h(-0x133,-0x114,-0x125,-0x12a)]},{'quoted':v});}else{const B=k['now']();return r[P(0x15c,0x157,0x16b,0x166)](R,p+'_'+B+'.'+e);}}catch(B){}}};const w=async n=>{function q(x,v,T,K){return c(T-0x2f7,v-0xd1,T-0x23,x);}function l(x,v,T,K){return c(v-0x38c,v-0x24,T-0x7,x);}if(v&&v[q(0xd7,0xf0,0xea,0xeb)]){if(r['GBOJU'](q(0xe8,0xec,0xec,0xfb),l(0x18a,0x192,0x1a5,0x185))){throw new v(q(0x106,0xea,0xfc,0x10c));}else{await x[q(0xf4,0x110,0x105,0xfd)](K,{'react':{'text':n,'key':v[l(0x181,0x17f,0x17f,0x176)]}});}}};try{const n=await apiClient['downloadKwaiVideo'](R);if(!n[c(-0x21c,-0x215,-0x217,-0x219)]){throw new Error(n[c(-0x210,-0x1fe,-0x225,-0x204)]||r[Z(0xb5,0xc4,0xbb,0xc6)]);}const O=n['data'][Z(0xd4,0xbb,0xc7,0xc3)];if(!O){throw new Error(r[Z(0xae,0xad,0xb8,0xbd)]);}const B=await axios['get'](O,{'responseType':r[Z(0xdc,0xc8,0xcf,0xe0)],'timeout':0x1d4c0});fs['writeFileSync'](p,Buffer[c(-0x1f5,-0x1ec,-0x1f6,-0x1eb)](B[c(-0x1f4,-0x1fe,-0x201,-0x1ef)]));if(!fs[Z(0xd3,0xd4,0xcb,0xc1)](p))throw new Error(Z(0xce,0xb3,0xbd,0xc7));if(k)await k[Z(0xc6,0xd1,0xcd,0xd6)](K,0x7d0);await x[Z(0xcc,0xd2,0xde,0xce)](K,{'video':fs['readFileSync'](p),'mimetype':c(-0x1ff,-0x1fc,-0x213,-0x205)},{'quoted':v});await M(Z(0xd0,0xcb,0xdd,0xcd));await w('✅');}catch(d){await M(Z(0xc9,0xc0,0xc2,0xbd));await r[c(-0x208,-0x1f6,-0x209,-0x1fb)](w,'❌');}finally{try{if(fs[c(-0x205,-0x218,-0x21b,-0x1fc)](p))fs[c(-0x1fe,-0x1f5,-0x201,-0x20d)](p);}catch(Y){}}};